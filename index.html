<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Procura Por Comida Barata</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="map"></div>
    <div id="sidebar">
        <div id="title">
            <h1>CHEAP FOOD MAP</h1>
        </div>
        <label for="location">Local:</label>
        <input type="text" id="location" value="São Paulo, Brasil">
        <label for="radius">Raio (km):</label>
        <input type="number" id="radius" value="2">
        <button onclick="searchRestaurants()">Procurar</button>
        <button onclick="locateUser()">Minha Localização</button>
        <div id="results">
            <h2>Restaurantes/Lanchonetes Encontrados:</h2>
            <div id="resultsContainer">
                <table id="resultsTable">
                    <thead>
                        <tr>
                            <th onclick="sortTable()">Nome</th>
                        </tr>
                    </thead>
                    <tbody id="resultsBody">
                        <!-- Resultados vão aparecer aqui -->
                    </tbody>
                </table>
            </div>
        </div>
        <div id="footer">
            <img src="logo-uerj-70-anos.jpg" alt="Logo UERJ 70 anos">
            <p>Desenvolvido por UERJ</p>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="script.js"></script>

    <script>
        function showComments(restaurantId) {
            var comments = getCommentsFromServer(restaurantId);
            alert('Comentários do restaurante ' + restaurantId + ':\n' + comments.join('\n'));
        }

        function getCommentsFromServer(restaurantId) {
            if (restaurantId === 'restaurant1') {
                return ['Comentário 1', 'Comentário 2', 'Comentário 3'];
            }
        }

        document.addEventListener("DOMContentLoaded", function() {
            var resultsTable = document.getElementById('resultsTable');
            resultsTable.addEventListener('click', function(event) {
                var target = event.target;
                if (target.tagName === 'TD') {
                    var restaurantId = target.innerText;
                    showComments(restaurantId);
                }
            });
        });
    </script>
</body>
</html>
